<?phpini_set('memory_limit', '2560M');class Wyomind_Datafeedmanager_Model_Datafeedmanager extends Mage_Core_Model_Abstract {    /* If you don't use short url add index.php to the variable */    public $_indexPhp = '';    /* System */    protected $_filePath;    public $_limit = false;    public $_display = false;    public $_rates = false;    public $_chartset = false;    public $_sqlSize = 1500;    static $option = 0;    /* This function evaluate all php scripts */    public function execPhpScript($myPattern, $product, $xml=true) {        $myPattern = str_replace('<?', utf8_encode('¤'), $myPattern);        $myPattern = str_replace('?>', utf8_encode('¤'), $myPattern);        $pattern = utf8_encode('/(¤(.[^¤]+)¤)/s');        preg_match_all($pattern, $myPattern, $matches);        if (isset($matches[1])) {            foreach ($matches[1] as $key => $script) {                if ($xml == 1) {                    if (@eval($matches[2][$key] . ';'))                        $myPattern = str_replace($script, eval($matches[2][$key] . ';'), $myPattern);                    else                        $myPattern = str_replace($script, '', $myPattern);                }                else {                    if (@eval($this->unescapeStr($matches[2][$key] . ';')))                        $myPattern = str_replace($script, $this->escapeStr(eval($this->unescapeStr($matches[2][$key]) . ';')), $myPattern);                    else                        $myPattern = str_replace($script, '', $myPattern);                }            }        }        return $myPattern;    } protected function _construct() {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $this->_init('datafeedmanager/datafeedmanager');}protected function _beforeSave() {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x0b = new Varien_Io_File();$x0c = $x0b->getCleanPath(Mage::getBaseDir() . '/' . $this->getFeedPath());if (!$x0b->allowedPath($x0c, Mage::getBaseDir())) {Mage::throwException(Mage::helper('datafeedmanager')->__('Please define correct path'));}if (!$x0b->fileExists($x0c, false)) {Mage::throwException(Mage::helper('datafeedmanager')->__('Please create the specified folder "%s" before saving the data feed configuration.', Mage::helper('core')->htmlEscape($this->getFeedPath())));}if (!$x0b->isWriteable($x0c)) {Mage::throwException(Mage::helper('datafeedmanager')->__('Please make sure that "%s" is writable by web-server.', $this->getFeedPath()));}if (!$xc7('#^[a-zA-Z0-9_\.]+$#', $this->getFeedName())) {Mage::throwException(Mage::helper('datafeedmanager')->__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in the filename. No spaces or other characters are allowed.'));}$this->setFeedPath($xcd($xd0($xd0('\\', '/', Mage::getBaseDir()), '', $x0c), '/') . '/');return parent::_beforeSave();}protected function getPath() {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  if ($xc2($this->_filePath)) {$this->_filePath = $xd0('//', '/', Mage::getBaseDir() . $this->getFeedPath());}return $this->_filePath;}protected function getFilename() {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x0d = array(1 => 'xml', 2 => 'txt', 3 => 'csv');return $this->getFeedName() . "\x2e" . $x0d[$this->getFeedType()];}public function getPreparedFilename() {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  return $this->getPath() . $this->getFilename();}public function applyCurrencyRate($x0e, $x0f) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x10 = $this->_currencies;if (isset($x10[$x0f])) {return $x0e * $x10[$x0f];} else {return $x0e;}}public function applyTax($x0e, $x11, $x12, $x13=false) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x14 = $this->_rates; if ($x13 === false) {if (!$x11 && isset($x14[$x12])) {if ($xb5($x14[$x12]) > 1) {return $x0e;} else {return $x0e * ($x14[$x12][0]['rate'] / 100 + 1);}} else {return $x0e;}} elseif ($x13 === "\x30") { if ($x11 && isset($x14[$x12])) {if ($xb5($x14[$x12]) > 1) {return $x0e;} else {return 100 * $x0e / (100 + ($x14[$x12][0]['rate']));}} else {return $x0e;}} else { if ($xc3($x13)) {if ($x12 != 0) {return $x0e * ($x13 / 100 + 1);} elseif ($x12 == 0) {return $x0e;}} else {$x13 = $xb8('/', $x13);$x15 = 0;$x16 = false;if ($xd4($x13[0], 0, 1) == "-") {$x13[0] = $xd4($x13[0], 1);$x16 = true;}if ($x14[$x12]) {foreach ($x14[$x12] as $x17) {if ($x17['country'] == $x13[0]) {if (!isset($x13[1]) || $x17['code'] == $x13[1]) {$x15 = $x17['rate'];break;}}}if (!$x16)return $x0e * ($x15 / 100 + 1);else {return 100 * $x0e / (100 + ($x15));}} else {return $x0e;}}}}public function xmlEncloseData($x18, $x19=true) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x1a = '/(<[^>^\/]+>)([^<]*)(<\/[^>]+>)/s';$xc8($x1a, $x18, $x1b);foreach ($x1b[1] as $x1c => $x1d) {$x1e = $xd6($x1b[2][$x1c]);if (empty($x1e) && !$xc3($x1e))$x18 = $xd0($x1b[0][$x1c], '', $x18);else {if ($x19)$x18 = $xd0($x1b[0][$x1c], ($x1b[1][$x1c]) . '<![CDATA[' . $x1e . ']]>' . ($x1b[3][$x1c]), $x18);else {$x18 = $xd0($x1b[0][$x1c], ($x1b[1][$x1c]) . $x1e . ($x1b[3][$x1c]), $x18);}}}$x1f = $xc9("/\n/s", $x18);$x20 = '';foreach ($x1f as $x21) {($xd1($xd6($x21)) > 0) ? $x20.=$x21 . "\n" : false;}$x18 = $x20;return $x18;}public function encode($x18) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  if ($this->_display)return ($x18);else {if ($this->_chartset == 'ISO')return $xd8($x18);else {return ($x18);}}}public function jsonToTable($x1a, $x22=false) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x1a = $xca('/(\r\n|\n|\r|\r\n)/s', '', $x1a);$x23 = 'padding:2px; border:1px solid grey; text-align:center;padding:5px; min-width:10px;min-height:10px;';$x24 = json_decode($x1a);if (isset($x24->header))$x24 = $x24->header;else {$x24 = $x24->product;}if ($x22)$x25 = "<tr\040st\x79\x6c\145='\x62\x61\143\153g\162\x6f\165n\144\x2d\143\157\x6co\x72:\x23\141aa\141f\x66;\040\143\x6fl\x6fr:\167\150it\145;'>";else {$x25 = "\074tr\x3e";}foreach ($x24 as $x1c => $x1d) {$x25.="<\x74\144\040s\x74\x79le='" . $x23 . "'>" . ($x1d) . "\074\x2ftd>";}$x25.="\074/tr\076";return $x25;}public function jsonToStr($x1a, $x26, $x27) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x1a = $xca('/(\r\n|\n|\r|\r\n)/s', '', $x1a);$x24 = json_decode($x1a);if (isset($x24->header))$x24 = $x24->header;else {if (!json_decode($x1a))return "";$x24 = $x24->product;}$x21 = '';$x28 = 0;foreach ($x24 as $x1c => $x1d) {if ($x26 == '\t')$x26 = "\t";if ($x28 > 0)$x21.=$x26;if ($x27 != "")$x21.=$x27 . $this->escapeStr($x1d, $x27) . $x27;else {$x21.= $this->escapeStr($x1d, $x26);}$x28++;}if ($x26 == "[|\x5d")$x21.="[\x3a]";return $x21;}public function escapeStr($x1a, $x29='"') {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x1a = $xd0($x29, '\\' . $x29, $x1a);return $x1a;}public function unescapeStr($x1a, $x29='"') {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $x1a = $xd0('\\' . $x29, $x29, $x1a);return $x1a;}public function getEncodeType($x2a) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  if (!$xd2($x2a, 'encoding="utf-8"') === FALSE)$this->_chartset = 'UTF8';if (!$xd2($x2a, 'encoding="ISO-8859-1"') === FALSE)$this->_chartset = 'ISO';}public function checkReference($x2b, $x2c) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  if (($x2b == "\x70\x61\162\x65n\164" || $x2b == "\x63\157\x6efigur\x61\x62\154\x65") && isset($this->configurable[$x2c->getId()]))return $this->configurable[$x2c->getId()];elseif (($x2b == "\160a\162\x65\x6e\x74" || $x2b == "\147rou\x70\145\x64") && isset($this->grouped[$x2c->getId()]))return $this->grouped[$x2c->getId()];elseif (($x2b == "p\x61r\145\x6e\164" || $x2b == "b\x75\x6ed\154\x65") && isset($this->bundle[$x2c->getId()]))return $this->bundle[$x2c->getId()];else {return $x2c;}}public function skipOptions($x2d) {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $this->option = $this->option + $x2d;}public function getOptions() {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  return "e\x66\x65f" . $this->option;}public function generateFile() {  $xb4="\141r\162\141\171\137p\x75\x73\x68"; $xb5="co\165nt"; $xb6="da\x74\x65"; $xb7="\x65v\141\x6c"; $xb8="\x65x\160l\x6fde"; $xb9="\150e\141\x64er"; $xba="\150\164\155\154s\160e\x63\x69al\x63\x68ar\x73"; $xbb="\x68\x74\155\154\x5f\x65\x6e\164\x69t\x79_\144e\x63\x6f\x64e"; $xbc="\150\x74m\x6ce\156\x74\x69t\151e\x73"; $xbd="\x69n_\141\162r\x61\171"; $xbe="i\x6d\160\x6c\157d\145"; $xbf="\151\156\151\137\x67\145\164"; $xc0="i\x73\137\x62\x6f\157\x6c"; $xc1="\151\163\x5farr\x61y"; $xc2="i\163_\x6e\x75\154\154"; $xc3="\x69\163\x5f\156u\155\x65\162i\x63"; $xc4="\155\142\x5fs\164r\x74o\154\x6f\x77\145\x72"; $xc5="\155\142_s\x74rt\157\x75\x70\x70\145r"; $xc6="\x6e\x75\155\x62\145\162\137\146\157\x72m\x61\x74"; $xc7="\160reg\x5f\155\141\x74c\x68"; $xc8="\160\x72e\147\137m\141\164\x63\150_\141l\154"; $xc9="\160\x72\x65\x67\x5f\163\160lit"; $xca="pre\147\x5f\x72\145\160\154\141c\145"; $xcb="\x70ri\156\x74\137\x72"; $xcc="\x72\157\x75\x6ed"; $xcd="\162\164\x72\151\155"; $xce="\x73\145\x74\137ti\x6de\x5fl\151\x6d\151t"; $xcf="\163\160ri\x6e\x74f"; $xd0="\x73\164r\x5fre\160\154a\x63\145"; $xd1="\x73\164r\154en"; $xd2="s\x74r\151\x73\164\162"; $xd3="str\151\160\137\x74\141\x67\163"; $xd4="su\x62s\x74\162"; $xd5="\163trr\x70\157s"; $xd6="\x74\162\151m"; $xd7="u\x63\167\x6f\x72\x64\163"; $xd8="\x75t\x668\137\x64\x65c\157\x64\x65";  $this->_debug = (isset($_GET['debug'])) ? true : false;$this->_type = (isset($_GET['type'])) ? $_GET['type'] : "*";if ($this->_debug) {echo "----\055\x2d-\055\055\x2d\055\055\x2d\x2d\x2d\x2d-\x2d\x2d-\x2d\055\055\055--\055\055-\x2d-\x2d---\055--\055\055\055-\055-\x2d\x2d\074\142\x72\076\x2d\055\x2d\055\055\055\055\x2d\055\055-\x2d \104\x45\x42U\x47\x20\x4dOD\x45\040---\055\x2d\055\055-\x2d-\x2d\055\055\055\x2d\055\074b\162\x3e-\055\x2d-\055-\x2d\x2d\055\055-\x2d-\x2d\055\055\055\055\x2d--\x2d\055\x2d-\x2d--\055\055-\x2d\x2d-\055\x2d\055\x2d--\055\x2d\x2d-\055-<br\x3e<b\162\076";$xcb($x2e);}$x2f = $this->_indexPhp;$x30 = array("ac" => "\141c\x74i\166a\x74\151\x6f\x6e_c\157\144\145", "\141k" => "a\x63t\151\x76\x61\x74\151o\x6e\137\x6b\x65\x79", "\x62\165" => "b\141s\x65\137ur\x6c", "\x6dd" => "\155\x64\065", "th" => "t\x68\151s", "\144\x6d" => "\137\x64\x65\x6d\x6f", "\x65\170\x74" => "\x64fm", "ver" => "\063\x2e\064\056\x32");$x31 = $this->getStoreId();$x32 = Mage::getSingleton('core/date')->gmtDate('Y-m-d');$x33 = Mage::getDesign()->getSkinUrl();$x34 = Mage::getStoreConfig("\x63\141\x74\x61l\x6fg/pl\141c\x65\x68\x6f\x6cd\x65\x72\x2f\151ma\147e_p\154ac\145\150\157\154d\x65\162", $x31);$x35 = Mage::getStoreConfig("\x63\165\162\x72en\143y\057\x6f\160ti\157ns\x2f\x62\141\x73\x65", $x31);$x36 = Mage::app()->getStore($x31)->getBaseUrl(Mage_Core_Model_Store::URL_TYPE_WEB, false);$x37 = Mage::app()->getStore($x31)->getBaseUrl(Mage_Core_Model_Store::URL_TYPE_MEDIA, false);$x38 = Mage::getStoreConfig(Mage_Tax_Model_Config::CONFIG_XML_PATH_PRICE_INCLUDES_TAX, $x31);$x39 = Mage::app()->getStore($x31)->getRootCategoryId();$x3a = array("a\x63\x74\x69v\141\164i\x6f\x6e\137ke\x79" => Mage::getStoreConfig("\144\141ta\146\x65ed\x6d\x61\156\x61\147\145\162\x2f\x6c\x69c\x65\x6e\163e\057ac\x74\151\x76\141t\x69\157n_\153\x65\171"),"\141\x63\x74\151v\x61\164\151o\x6e_c\x6f\144\145" => Mage::getStoreConfig("\144\x61\x74\x61\x66\x65\145\x64\155a\156\141\147\x65r/\x6c\151ce\x6e\x73e\x2fa\143\164\x69\x76a\x74\x69\x6f\156\137c\x6f\x64\x65"),"\142\x61\163\x65\x5fu\x72\x6c" => Mage::getStoreConfig("\167\145\x62\057s\x65c\165\162\145/\142\x61s\145_\x75r\154"),);$x3b = $this->getFeed_product();$x2a = $this->getFeed_header();$x3c = $this->getFeed_footer();$x3d = $this->getFeed_type();$x3e = $this->getFeed_include_header();$x26 = $this->getFeed_separator();$x27 = $this->getFeed_protector();$x3f = $this->getFeed_status();$x40 = $this->getFeed_enclose_data();$x41 = json_decode($this->getDatafeedmanagerCategories());$x42 = Array();$x43 = Array();if ($this->getGoogleshoppingCategories() != '*') {foreach ($x41 as $x44) {if ($x44->checked)$x42[] = $x44->line;}foreach ($x41 as $x44) {if ($x44->mapping != "")$x43[$x44->line] = $x44->mapping;}}if ($xb5($x42) < 1) {$x42[] = '*';}$x45 = $xb8(',', $this->getDatafeedmanagerTypeIds());$x46 = $xb8(',', $this->getDatafeedmanagerVisibility());$x47 = json_decode($this->getDatafeedmanagerAttributes());if ($x3a[$x30['ac']] != $x30["\155\x64"]($x30["m\144"]($x3a[$x30['ak']]) . $x30["\155\144"]($x3a[$x30['bu']]) . $x30["m\x64"]($x30["e\170t"]) . $x30["\x6d\144"]($x30["\x76e\162"]))) {$$x30["\145\170\164"] = "v\x61\x6ci\x64";$$x30["\x74\150"]->$x30["\144m"] = true;} else {$$x30["\164h"]->$x30["\144\155"] = false;$$x30["\x65\x78\x74"] = "\x76\141\x6c\x69\144";}if (!$x3f && !$this->_display)Mage::throwException(Mage::helper("d\141\164\x61\146ee\x64\x6d\x61na\147er")->__("\x54\150e \144\141\x74\141\040\146eed\040\x63\x6f\156\x66i\x67\165\162\x61\164\x69\157\x6e\040m\165\x73\164\x20\x62\145\040\x65\x6e\141\x62\x6c\145d \x69\156 \x6f\162\144\x65r \x74o\040\x67e\x6e\x65r\x61\x74\x65\040a\040\146\151\154e\056"));$x0b = new Varien_Io_File();$x0b->setAllowCreateFolders(true);if (!$this->_display) {$x0b->open(array('path' => $this->getPath()));if ($x0b->fileExists($this->getFilename()) && !$x0b->isWriteable($this->getFilename())) {Mage::throwException(Mage::helper('datafeedmanager')->__('File "%s" cannot be saved. Please, make sure the directory "%s" is writeable by web server.', $this->getFilename(), $this->getPath()));}$x0b->streamOpen($this->getFilename());}if (!isset($$x30["\145\x78t"]) || $$x30["\x74h"]->$x30["\144\x6d"]) {$$x30["\x74h"]->$x30["\144\x6d"] = true;return $$x30["\x74h"];}$x48 = '';$x49 = '';$xb9("Co\156\x74e\x6et\055T\171\x70\x65:\040\x74ex\164\x2f\150\x74\155\154\x3b \x63\150a\x72\163et\075u\x74f\x2d\x38");$this->getEncodeType($x2a);if ($x3d == 1 || ($x3d != 1 && !$this->_display))$x18 = $this->encode($x2a);if ($this->_display) {if ($x3d == 1) {$x49 = $this->xmlEncloseData($x2a, $x40) . "\n";} else {$x49 = "\074\164a\x62le\x20\163\x74\171\154\145\075'\x62\x6fr\144\x65r\x3a\x32\x70\x78 \163ol\151\144 \x67\162e\171;\x20\146\x6fn\x74\x2d\146a\155\151\154\171\x3a\x61\x72i\x61\x6c;\x20fo\x6e\x74\x2d\163i\x7ae:\061\x32\160\x78' c\x65\154\154s\x70\141\143\151\156\147\075\060\x20\x63el\x6c\x70\141\144\144\151n\x67=0\076";if ($x3e) {$x49.=$this->jsonToTable($x2a, true);}}} else {if ($x3d == 1) {$x0b->streamWrite($this->xmlEncloseData($x2a, $x40) . "\n");} else {if ($x3e) {$x0b->streamWrite($this->jsonToStr($x2a, $x26, $x27) . "\n");}}}$x1a = '/{([a-zA-Z_0-9:]+)(\sparent|\sgrouped|\sconfigurable|\sbundle)?([^}]*)}/';$xc8($x1a, $x3b, $x1b);$x4a = array();$x4b = array();foreach ($x1b[1] as $x1c => $x4c) {$x4a[$x1c]['methodName'] = "g\x65\164" . $xd0(' ', '', $xd7($xd6($x4c)) . '()');$x4a[$x1c]['pattern'] = "\x7b" . $xd6($x4c) . "\x7d";$x4a[$x1c]['fullpattern'] = $x1b[0][$x1c];$x4a[$x1c]['name'] = $xd6($x4c);$x4a[$x1c]['reference'] = $xd6($x1b[2][$x1c]);if (empty($x4a[$x1c]['reference']))$x4a[$x1c]['reference'] = 'self';switch ($x4a[$x1c]['name']) {case 'G:IMAGE_LINK':$xb4($x4b, 'image');$xb4($x4b, 'small_image');$xb4($x4b, 'thumbnail');break;default : $xb4($x4b, $x4a[$x1c]['name']);}$x4a[$x1c]["\x76a\x6c\165\x65"] = '$x2c->get' . $x4a[$x1c]['name'] . "(\x29";$x4a[$x1c]["g\145t\124e\170\x74"] = 'getAttributeText(\'' . $xd6($x4c) . '\')';$x4d = '/\[([^\]]+)\]/';$xc8($x4d, $x1b[3][$x1c], $x4e);$x4a[$x1c]["\x6f\160\x74i\x6fn\163"] = $x4e[1];}if ($this->_debug) {echo "<br\x3e\x3c\142r\x3e--\055-\x2d-\x2d\x2d\x2d\055\x2d- \101\x54\x54\x52IB\125\124E\x53 \x52\105\121\x55\x49R\x45\x44\x20\x2d\x2d----\x2d\055-\x2d\055-\055\055\x2d-<\142r\076";$xcb($x4a);}$x4f = Mage::getModel('catalog/category')->getCollection()->setStoreId($x31)->addAttributeToSelect('name')->addAttributeToSelect('is_active');$x2e = array();foreach ($x4f as $x50) {$x2e[$x50->getId()]['name'] = $x50->getName();$x2e[$x50->getId()]['path'] = $x50->getPath();$x2e[$x50->getId()]['level'] = $x50->getLevel();}if ($this->_debug) {echo "<\142r\x3e\x3cbr>-\x2d\x2d\055\055\055\x2d\055-\055\x2d\x2d\x20\103\101T\105\107\x4f\122IE\x53 ---\055\x2d-\x2d-\x2d\x2d\x2d-\x2d\x2d--\x3c\142\162\076";$xcb($x2e);}$x51 = Mage::getSingleton('core/resource');$x52 = $x51->getConnection('core_read');$x53 = $x51->getTableName('eav_entity_type');$x54 = $x52->select()->from($x53)->where('entity_type_code=\'catalog_product\'');$x24 = $x52->fetchAll($x54);$x55 = $x24[0]['entity_type_id'];$x51 = Mage::getSingleton('core/resource');$x52 = $x51->getConnection('core_read');$x56 = $x51->getTableName('directory_currency_rate');$x54 = $x52->select()->from($x56)->where('currency_from=\'' . $x35 . '\'');$x10 = $x52->fetchAll($x54);$x57 = array();foreach ($x10 as $x0f) {$x57[$x0f['currency_to']] = $x0f['rate'];}$this->_currencies = $x57;if ($this->_debug) {echo "<\142\x72\076\074b\x72\076\x2d\055-\x2d-\055\055-\055\x2d\x2d\x2d\x20\x43URR\x45\x4eC\111\105S\x20\x2d\055-\x2d--\055\055\055--\055\055-\055\055\x3c\x62r\076";$xcb($x57);}$x58 = Mage::getResourceModel('eav/entity_attribute_collection')->setEntityTypeFilter($x55)->addSetInfo()->getData();$x59 = array();$x5a = array();foreach ($x58 as $x1c => $x4c) {if ($xbd($x4c['attribute_code'], $x4b)) {$xb4($x59, $x4c['attribute_code']);$x5a[$x4c['attribute_code']] = $x4c['frontend_input'];}}if (!$xbd('special_price', $x59))$x59[] = 'special_price';if (!$xbd('special_from_date', $x59))$x59[] = 'special_from_date';if (!$xbd('special_to_date', $x59))$x59[] = 'special_to_date';if (!$xbd('price_type', $x59))$x59[] = 'price_type';if (!$xbd('price', $x59))$x59[] = 'price';$x59[] = 'tax_class_id';foreach ($x47 as $x5b) {if (!$xbd($x5b->code, $x59) && $x5b->checked)$x59[] = $x5b->code;}if ($this->_debug) {echo "\074\x62r\x3e\074\x62\162>\055\x2d\x2d\x2d-\x2d-\055\x2d--\055 A\124\124\x52\111BUTES \055\x2d-\x2d-\x2d-\x2d\055--\x2d-\x2d\x2d\055\074\142\162\x3e";$xcb($x59);}$x51 = Mage::getSingleton('core/resource');$x52 = $x51->getConnection('core_read');$x5c = $x51->getTableName('eav_attribute_option_value');$x54 = $x52->select();$x54->from($x5c);$x54->where("\163\164\x6fr\x65_i\x64=" . $x31 . ' OR  store_id=0');$x54->order(array('option_id', 'store_id'));$x5d = $x52->fetchAll($x54);foreach ($x5d as $x5e) {$x5f[$x5e['option_id']][$x5e['store_id']] = $x5e['value'];}if ($this->_debug) {echo "\074\142\x72\x3e<\142\162\x3e\055\055\x2d\055-\055\055\055---- \101\124T\x52\111B\x55T\x45S\x20\114\x41B\x45\x4c\x20\x2d\055\x2d----\x2d\055--\055\055\x2d\055\x2d<\x62\162\076";$xcb($x5f);}$x60 = $x51->getTableName('tax_class');$x61 = $x51->getTableName('tax_calculation');$x62 = $x51->getTableName('tax_calculation_rate');$x63 = $x51->getTableName('directory_country_region');$x54 = $x52->select();$x54->from($x60)->order(array('class_id', 'tax_calculation_rate_id'));$x54->joinleft(array('tc' => $x61), 'tc.product_tax_class_id = ' . $x60 . '.class_id', 'tc.tax_calculation_rate_id');$x54->joinleft(array('tcr' => $x62), 'tcr.tax_calculation_rate_id = tc.tax_calculation_rate_id', array('tcr.rate', 'tax_country_id', 'tax_region_id'));$x54->joinleft(array('dcr' => $x63), 'dcr.region_id=tcr.tax_region_id', 'code');$x64 = $x52->fetchAll($x54);$x14 = array();$x65 = '';foreach ($x64 as $x66) {if ($x65 != $x66['class_id'])$x67 = 0;else {$x67++;}$x65 = $x66['class_id'];$x14[$x66['class_id']][$x67]['rate'] = $x66['rate'];$x14[$x66['class_id']][$x67]['code'] = $x66['code'];$x14[$x66['class_id']][$x67]['country'] = $x66['tax_country_id'];}$this->_rates = $x14;if ($this->_debug) {echo "<\142\x72\x3e<\142\162\x3e\x2d\055\x2d\x2d\x2d\x2d--\x2d\055\x2d-\x20TA\130\040\103\x4cA\123S\x20\x2d-\x2d--\055\055\055\x2d-\x2d\x2d\x2d--\x2d\x3c\x62\x72\x3e";$xcb($x14);}$x68 = $x51->getTableName('review');$x69 = $x51->getTableName('review_store');$x6a = $x51->getTableName('rating_option_vote');$x6b = $x52->select()->distinct('review_id');$x6b->from(array("r" => $x68), array("\x43\x4f\x55\x4eT\x28D\111\x53T\111NC\x54\040r\x2erev\x69e\167_\x69\144)\040AS \143\157\x75\156t", 'entity_pk_value'));$x6b->joinleft(array('rs' => $x69), 'rs.review_id=r.review_id', 'rs.store_id');$x6b->joinleft(array('rov' => $x6a), 'rov.review_id=r.review_id', 'AVG(rov.percent) AS score');$x6b->where("\x73\164\x61\x74\165\x73_\151\x64\x3d\x31\x20\141\156\144\040e\x6et\x69\164\x79_i\144=\x31");$x6b->group(array('r.entity_pk_value', 'rs.store_id'));$x6c = $x52->select();$x6c->from(array("r" => $x68), array("C\x4fU\116\124\x28\x44I\x53T\x49N\x43\124\x20r\056\x72\145\x76iew_i\x64) \x41S\040\x63\x6f\165\156\164", 'entity_pk_value', "\050S\x45\x4c\105\103\x54\040\x30\x29 \101S \x20\x73\164o\162\x65\x5f\x69d"));$x6c->joinleft(array('rs' => $x69), 'rs.review_id=r.review_id', array());$x6c->joinleft(array('rov' => $x6a), 'rov.review_id=r.review_id', 'AVG(rov.percent) AS score');$x6c->where("\163ta\x74u\163\x5f\151\x64=\x31\040a\x6e\x64 \x65\x6eti\x74\x79\x5fi\144\x3d\061");$x6c->group(array('r.entity_pk_value'));$x54 = $x52->select()->union(array($x6b, $x6c));$x54->order(array('entity_pk_value', 'store_id'));$x6d = $x52->fetchAll($x54);$x6e = array();foreach ($x6d as $x6f) {$x6e[$x6f['entity_pk_value']][$x6f['store_id']]['count'] = $x6f['count'];$x6e[$x6f['entity_pk_value']][$x6f['store_id']]['score'] = $x6f['score'];}$x51 = Mage::getSingleton('core/resource');$x52 = $x51->getConnection('core_read');$x70 = $x51->getTableName('catalog_product_entity_media_gallery');$x71 = $x51->getTableName('catalog_product_entity_media_gallery_value');$x54 = $x52->select();$x54->from($x70);$x54->joinleft(array('cpemgv' => $x71), 'cpemgv.value_id = ' . $x70 . '.value_id', array('cpemgv.position', 'cpemgv.disabled'));$x54->where("\166al\x75\x65<>\x54RIM\050'')\x20\101\116\x44\x20\050\163\164o\162\x65\137\151\144=" . $x31 . ' OR  store_id=0)');$x54->order(array('position', 'value_id'));$x72 = $x52->fetchAll($x54);foreach ($x72 as $x73) {$x74[$x73['entity_id']]['src'][] = $x73['value'];$x74[$x73['entity_id']]['disabled'][] = $x73['disabled'];}if ($this->_debug) {echo "\074\x62\162><b\162>\055\x2d-\055-\x2d-\x2d\055\x2d\055\x2d\x20\x49\x4d\x41G\x45S\x20\x2d\x2d-\x2d-\x2d\055---\x2d\055\055--\x2d<\142\162\x3e";$xcb($x74);}$x75 = $x51->getTableName("\143a\x74\x61\154og\x69\x6e\166\145\156\x74\x6fry\x5f\x73t\x6f\x63\x6b_i\164\x65m");$x76 = $x51->getTableName("\x63\x6f\x72e_\165\x72\x6c\x5f\162\x65w\162\151t\145");$x56 = $x51->getTableName('catalog_category_product');$x77 = $x51->getTableName('catalog_category_product_index'); $x78 = $x51->getTableName('catalog_product_index_price');$x79 = $x51->getTableName('catalog_product_super_link');$x7a = $x51->getTableName('catalog_product_link');$x7b = $x51->getTableName('catalog_product_bundle_selection');$x7c = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x31);$x7c->addAttributeToFilter('status', 1);$x7c->addAttributeToFilter('type_id', array("\x69\x6e" => "\x63\157\156\146ig\165\x72a\142\x6c\x65"));$x7c->addAttributeToFilter('visibility', array("\x6ei\156" => 1));$x7c->addAttributeToSelect($x59);$x7c->getSelect()->joinLeft($x79 . ' AS cpsl', 'cpsl.parent_id=e.entity_id ', array('child_ids' => 'GROUP_CONCAT( DISTINCT cpsl.product_id)'));$x7c->getSelect()->joinLeft($x75 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x7c->getSelect()->joinLeft($x76 . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x31, array('request_path' => 'request_path'));$x7c->getSelect()->joinLeft($x56 . ' AS categories', 'categories.product_id=e.entity_id');$x7c->getSelect()->joinLeft($x77 . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x31, array('categories_ids' => 'GROUP_CONCAT( DISTINCT categories_index.category_id)'));$x7c->getSelect()->group(array('cpsl.parent_id'));$x7d = array();foreach ($x7c as $x7e) {foreach ($xb8(",", $x7e->getChildIds()) as $x7f) {$x7d[$x7f] = $x7e;$x80[$x7f]['categories_ids'] = $x7e->getCategories_ids();$x80[$x7f]['parent_id'] = $x7e->getId();$x80[$x7f]['parent_sku'] = $x7e->getSku();$x80[$x7f]['parent_request_path'] = $x7e->getRequestPath();}}$this->configurable = $x7d;if ($this->_debug) {echo "\x3c\142\162\076\074\x62r\x3e\055\x2d\055\x2d-\055\x2d\x2d\x2d\055\x2d\055 \103ONF\x49\x47\x55\122A\x42L\x45\x53\040\x2d\055\x2d\055-\055--\055-\x2d\x2d\055\055\055\055\x3c\x62\x72\076";echo $x7c->getSelect() . '<br><br>';$xcb($x80);}$x7c = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x31);$x7c->addAttributeToFilter('status', 1);$x7c->addAttributeToFilter('type_id', array("i\156" => "c\157\156\x66\x69\x67u\x72\x61bl\x65"));$x7c->addAttributeToFilter('visibility', array("nin" => 1));$x7c->getSelect()->joinLeft($x79 . ' AS cpsl', 'cpsl.parent_id=e.entity_id ');$x7c->getSelect()->joinLeft($x75 . ' AS stock', 'stock.product_id=cpsl.product_id', array('qty' => 'SUM(qty)'));$x7c->getSelect()->group(array('cpsl.parent_id'));$x81 = array();foreach ($x7c as $x82) {$x81[$x82->getId()] = $x82->getQty();}$this->configurableQty = $x81;if ($this->_debug) {echo "\x3c\x62\162\076\074b\162>-\x2d-\055\055-\055-\x2d\055\055\x2d \x43ON\106\x49\x47\125\122\x41B\114\105\x53 \121\124Y \x2d---\x2d\x2d\055\055---\x2d\055\x2d\055\x2d\x3c\142\162\x3e";echo $x7c->getSelect() . '<br><br>';$xcb($x81);}$x7c = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x31);$x7c->addAttributeToFilter('status', 1);$x7c->addAttributeToFilter('type_id', array("\x69n" => "gro\165\160e\144"));$x7c->addAttributeToFilter('visibility', array("\x6e\151n" => 1));$x7c->addAttributeToSelect($x59);$x7c->getSelect()->joinLeft($x7a . ' AS cpl', 'cpl.product_id=e.entity_id AND cpl.link_type_id=3', array('child_ids' => 'GROUP_CONCAT( DISTINCT cpl.linked_product_id)'));$x7c->getSelect()->joinLeft($x75 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x7c->getSelect()->joinLeft($x76 . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x31, array('request_path' => 'request_path'));$x7c->getSelect()->joinLeft($x56 . ' AS categories', 'categories.product_id=e.entity_id');$x7c->getSelect()->joinLeft($x77 . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x31, array('categories_ids' => 'GROUP_CONCAT( DISTINCT categories_index.category_id)'));$x7c->getSelect()->group(array('cpl.product_id'));$x83 = array();foreach ($x7c as $x7e) {foreach ($xb8(",", $x7e->getChildIds()) as $x7f) {$x83[$x7f] = $x7e;$x84[$x7f]['categories_ids'] = $x7e->getCategories_ids();$x84[$x7f]['parent_id'] = $x7e->getId();$x84[$x7f]['parent_sku'] = $x7e->getSku();$x84[$x7f]['parent_request_path'] = $x7e->getRequestPath();}}$this->grouped = $x83;if ($this->_debug) {echo "\074\x62\x72>\074b\162\x3e--\055\x2d\055\055\x2d\x2d-\055\x2d\x2d\040\x47\122O\x55\x50E\x44\040\x2d\055\055\055-\x2d---\x2d\x2d-\055\x2d\x2d\055\074b\x72\076";echo $x7c->getSelect() . '<br><br>';$xcb($x84);}$x7c = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x31);$x7c->addAttributeToFilter('status', 1);$x7c->addAttributeToFilter('type_id', array("i\156" => "\x62\165n\x64l\145"));$x7c->addAttributeToFilter('visibility', array("\156i\156" => 1));$x7c->addAttributeToSelect($x59);$x7c->getSelect()->joinLeft($x7b . ' AS cpbs', 'cpbs.parent_product_id=e.entity_id', array('child_ids' => 'GROUP_CONCAT( DISTINCT cpbs.product_id)'));$x7c->getSelect()->joinLeft($x75 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x7c->getSelect()->joinLeft($x76 . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x31, array('request_path' => 'request_path'));$x7c->getSelect()->joinLeft($x56 . ' AS categories', 'categories.product_id=e.entity_id');$x7c->getSelect()->joinLeft($x77 . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x31, array('categories_ids' => 'GROUP_CONCAT( DISTINCT categories_index.category_id)'));$x7c->getSelect()->group(array('e.entity_id'));$x85 = array();foreach ($x7c as $x7e) {foreach ($xb8("\x2c", $x7e->getChildIds()) as $x7f) {$x85[$x7f] = $x7e;$x86[$x7f]['parent_id'] = $x7e->getId();$x86[$x7f]['parent_sku'] = $x7e->getSku();$x86[$x7f]['parent_request_path'] = $x7e->getRequestPath();$x86[$x7f]['categories_ids'] = $x7e->getCategories_ids();}}$this->bundle = $x85;if ($this->_debug) {echo "<\x62\x72\x3e\074\x62r\076\055-\055\055\055\x2d\x2d\x2d-\x2d\x2d-\x20\x42\125NDL\105\040\055\055-\x2d\x2d\055-\x2d\055\055-\x2d\055-\055\055\x3c\x62\x72>";echo $x7c->getSelect() . '<br><br>';$xcb($x86);}$x87 = 0;$x7c = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x31);$x7c->addAttributeToFilter('status', 1);$x7c->addAttributeToFilter('type_id', array("i\x6e" => $x45));$x7c->addAttributeToFilter('visibility', array("\151\x6e" => $x46));$x88 = $x7c->$xb5();$x89 = $xcc($x88 / $this->_sqlSize) + 1;$x48 = '';while ($x87 < $x89) {$x7c = Mage::getModel('catalog/product')->getCollection()->addStoreFilter($x31);$x7c->addFieldToFilter("\x73\164\x61t\x75\x73", 1);$x7c->addAttributeToFilter("typ\145_\151d", array("\x69\156" => $x45));$x7c->addAttributeToFilter("\166\151\163i\142\151\x6c\x69\x74y", array("i\156" => $x46));$x7c->addAttributeToSelect($x59);$x8a = array("\x65q" => "\x3d '\x25\163'","\x6e\145q" => "!\075\040'%\x73'","gteq" => "\x3e=\x20'%\163'","\x6c\164\x65\x71" => "<= '\x25\163'","g\x74" => "\076\040'\045\163'","lt" => "\074\x20'\045s'","l\x69k\145" => "l\151\x6b\145\040'\x25\163'","\x6e\154\x69\153\x65" => "\156\157t\x20\x6cik\145 '%\163'","\x6e\x75\x6c\154" => "is n\x75\154\x6c","n\x6f\164\x6e\x75ll" => "\x69\163\x20\x6e\157\164\040nu\x6c\x6c","\x69\x6e" => "\x69\x6e \x28\045\163\051","n\151n" => "\156\157\164\040\151\x6e\x28\x25s\051",);$x8b = '';$x1f = 0;foreach ($x47 as $x5b) {if ($x5b->checked) {if ($x5b->condition == 'in' || $x5b->condition == 'nin') {if ($x5b->code == 'qty' || $x5b->code == 'is_in_stock') {$x8c = $xb8(',', $x5b->value);$x5b->value = "'" . $xbe($x8c, "','") . "'";} else {$x5b->value = $xb8(',', $x5b->value);}}switch ($x5b->code) {case 'qty' :if ($x1f > 0)$x8b.=' AND ';$x8b.="\040\x71\x74y " . $xcf($x8a[$x5b->condition], $x5b->value);$x1f++;break;case 'is_in_stock' :if ($x1f > 0)$x8b.=' AND ';$x8b.="\x20i\163_i\x6e_\163\x74\157c\x6b " . $xcf($x8a[$x5b->condition], $x5b->value);$x1f++;break;default :$x7c->addFieldToFilter($x5b->code, array($x5b->condition => $x5b->value));break;}}};$x7c->getSelect()->joinLeft($x75 . ' AS stock', 'stock.product_id=e.entity_id', array('qty' => 'qty', 'is_in_stock' => 'is_in_stock'));$x7c->getSelect()->joinLeft($x76 . ' AS url', 'url.product_id=e.entity_id AND url.category_id IS NULL AND is_system=1 AND options<> "RP" AND url.store_id=' . $x31, array('request_path' => 'request_path'));$x7c->getSelect()->joinLeft($x56 . ' AS categories', 'categories.product_id=e.entity_id');$x7c->getSelect()->joinLeft($x77 . ' AS categories_index', 'categories_index.category_id=categories.category_id AND  categories_index.product_id=categories.product_id AND categories_index.store_id=' . $x31, array('categories_ids' => 'GROUP_CONCAT(categories_index.category_id)'));$x7c->getSelect()->joinLeft($x78. ' AS price_index','price_index.entity_id=e.entity_id AND customer_group_id=0 AND  price_index.website_id='.Mage::getModel('core/store')->load($x31)->getWebsiteId(),array('min_price' => 'min_price','max_price' => 'max_price','tier_price' => 'tier_price','final_price' => 'final_price'));if (!empty($x8b))$x7c->getSelect()->where($x8b);$x7c->getSelect()->group(array('e.entity_id'));if ($this->_debug && ($this->_type == '*' || $this->_type == "s\x71l")) {echo "\074\142\162\x3e<\142\162>\055\055\x2d\055-\x2d\055\055-\x2d\x2d\x2d\040\123\x51\114 \055-\x2d-\055\055-\055\x2d\055\055-\x2d-\055\x2d<\142r\076";print($x7c->getSelect());}$x7c->getSelect()->limit($this->_sqlSize, ($this->_sqlSize * $x87));$x87++;$x8d = 1;$x8e = new MyCustomOptions;$x8f = new MyCustomAttributes;foreach ($x7c as $x2c) {if ($this->_debug) {echo "\x3cb\x72>\x3c\x62r\076---\055\x2d\055-\055-\x2d-\x2d P\122\x4f\x44\125C\x54\x20[\040\123K\x55 \x2d\076 " . $x2c->getSku() . "\x20\174 \111\104\040\055> " . $x2c->getId() . "\135-\055\x2d-\055\x2d\055\x2d-\x2d-\x2d-\x2d\x2d\x3c\142\x72\076";echo "c\141\164e\147o\162\x69\x65\x73\x20\072\040" . $x2c->getCategoriesIds() . "\054\x20\122\157ot\x20\x69d\x3a\x20" . $x39 . "\x3c\x62\x72\x3e";foreach ($xb8(',', $x2c->getCategoriesIds()) as $x1c => $x50) {echo $x50 . "\075\076" . $x2e[$x50]["pa\x74\x68"] . "\x3cb\x72\x3e";}}if (!$xbf('safe_mode')) {$xce(60);}$x18 = $x3b;foreach ($x4a as $x1c => $x90) {$x1d = "";$this->option = 0;switch ($x90['pattern']) {case '{inc}' :$x1d = $x8d;break; case '{final_price}' :$x91 = $this->checkReference($x90['reference'], $x2c);$x0e=$x91->getFinalePrice();(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];$x1d = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90['options'][0])) ? $x0f = $x35 : $x0f = $x90['options'][0];$x1d = $this->applyCurrencyRate($x1d, $x0f);$x1d = $xc6($x1d, 2, '.', '');break;case '{tier_price}' :$x91 = $this->checkReference($x90['reference'], $x2c);$x0e=$x91->getTierPrice();(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];$x1d = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90['options'][0])) ? $x0f = $x35 : $x0f = $x90['options'][0];$x1d = $this->applyCurrencyRate($x1d, $x0f);$x1d = $xc6($x1d, 2, '.', '');break;case '{min_price}' :$x91 = $this->checkReference($x90['reference'], $x2c);$x0e=$x91->getMinPrice();(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];$x1d = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90['options'][0])) ? $x0f = $x35 : $x0f = $x90['options'][0];$x1d = $this->applyCurrencyRate($x1d, $x0f);$x1d = $xc6($x1d, 2, '.', '');break; case '{max_price}' :$x91 = $this->checkReference($x90['reference'], $x2c);$x0e=$x91->getMaxPrice();(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];$x1d = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90['options'][0])) ? $x0f = $x35 : $x0f = $x90['options'][0];$x1d = $this->applyCurrencyRate($x1d, $x0f);$x1d = $xc6($x1d, 2, '.', '');break;case '{normal_price}' :$x91 = $this->checkReference($x90['reference'], $x2c);if ($x91->type_id == 'bundle')$x0e = $x91->price;else {$x0e = $x91->getPrice();}(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];$x1d = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90['options'][0])) ? $x0f = $x35 : $x0f = $x90['options'][0];$x1d = $this->applyCurrencyRate($x1d, $x0f);$x1d = $xc6($x1d, 2, '.', '');$this->skipOptions(2);break;case '{price}' :$x91 = $this->checkReference($x90['reference'], $x2c);if ($x91->getSpecialFromDate() && !$x91->getSpecialToDate()) {if ($x91->getSpecialFromDate() <= $xb6("\x59-\x6d-\x64\x20\110\x3a\151\x3as")) {if ($x91->type_id == "\x62u\156\x64\x6c\145") {if (($x91->price_type || (!$x91->price_type && $x91->special_price < $x91->price)) && $x91->special_price > 0) {if ($x91->price_type)$x0e = $xc6($x91->price * $x91->special_price / 100, 2, "\056", "");else {$x0e = $x91->special_price;}} else {$x0e = $x91->price;}} else {($x91->getSpecial_price() && $x91->getSpecial_price() < $x91->getPrice()) ? $x0e = $x91->getSpecialPrice() : $x0e = $x91->getPrice();}} else {if ($x91->type_id == "b\165\x6e\144\x6ce")$x0e = $x91->price;else {$x0e = $x91->getPrice();}}} elseif ($x91->getSpecialFromDate() && $x91->getSpecialToDate()) {if ($x91->getSpecialFromDate() <= $xb6("\x59\x2d\x6d\x2dd \110:\x69\072\x73") && $xb6("Y\x2d\155\055\x64 \x48:\151\072\163") < $x91->getSpecialToDate()) {if ($x91->type_id == "\x62\165\156\144\154e") {if (($x91->price_type || (!$x91->price_type && $x91->special_price < $x91->price)) && $x91->special_price > 0) {if ($x91->price_type)$x0e = $xc6($x91->price * $x91->special_price / 100, 2, "\x2e", "");else {$x0e = $x91->special_price;}} else {$x0e = $x91->price;}} else {($x91->getSpecial_price() && $x91->getSpecial_price() < $x91->getPrice()) ? $x0e = $x91->getSpecialPrice() : $x0e = $x91->getPrice();}} else {if ($x91->type_id == "\142\x75\156d\x6c\x65")$x0e = $x91->price;else {$x0e = $x91->getPrice();}}} else {if ($x91->type_id == "\142un\x64\x6c\145") {if (($x91->price_type || (!$x91->price_type && $x91->special_price < $x91->price)) && $x91->special_price > 0) {if ($x91->price_type)$x0e = $xc6($x91->price * $x91->special_price / 100, 2, "\056", "");else {$x0e = $x91->special_price;}} else {$x0e = $x91->price;}} else {($x91->getSpecial_price() && $x91->getSpecial_price() < $x91->getPrice()) ? $x0e = $x91->getSpecialPrice() : $x0e = $x91->getPrice();}}(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];$x1d = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90["opti\157n\x73"][0])) ? $x0f = $x35 : $x0f = $x90["o\160\164\151o\156\x73"][0];$x1d = $this->applyCurrencyRate($x1d, $x0f);$x1d = $xc6($x1d, 2, "\056", "");$this->skipOptions(2);break;case "\173\x69\x73\x5fs\x70\145c\x69\141\154\137pri\x63\145\x7d" :$x91 = $this->checkReference($x90['reference'], $x2c);(!isset($x90["\x6fp\164\151on\163"][0])) ? $x92 = 1 : $x92 = $x90["op\164\151\157\156\x73"][0];(!isset($x90["\157pt\x69\x6f\156s"][1])) ? $x93 = 0 : $x93 = $x90["\157\160\164\x69o\156\163"][1];if ($x91->getSpecialFromDate() && !$x91->getSpecialToDate()) {if ($x91->getSpecialFromDate() <= $xb6("\x59-\x6d-\144\040H\x3a\151\x3as")) {if ($x91->type_id == "b\x75\x6e\x64l\x65")(($x91->price_type || (!$x91->price_type && $x91->special_price < $x91->price)) && $x91->special_price > 0 ) ? $x1d = $x92 : $x1d = $x93;else {($x91->getSpecial_price() && $x91->getSpecial_price() < $x91->getPrice()) ? $x1d = $x92 : $x1d = $x93;}} else {if ($x91->type_id == "b\165\156\144\x6c\145")$x1d = $x93;else {$x1d = $x93;}}} elseif ($x91->getSpecialFromDate() && $x91->getSpecialToDate()) {if ($x91->getSpecialFromDate() <= $xb6("Y\055\155\055\x64\040\110\072\x69\072s") && $xb6("Y\055m-d\x20\x48\x3ai\072\163") < $x91->getSpecialToDate()) {if ($x91->type_id == "b\165\x6e\x64l\x65")(($x91->price_type || (!$x91->price_type && $x91->special_price < $x91->price)) && $x91->special_price > 0 ) ? $x1d = $x92 : $x1d = $x93;else {($x91->getSpecial_price() && $x91->getSpecial_price() < $x91->getPrice()) ? $x1d = $x92 : $x1d = $x93;}} else {if ($x91->type_id == "\142\x75\x6ed\154e")$x1d = $x93;else {$x1d = $x93;}}} else {if ($x91->type_id == "\x62\x75\x6e\144\x6c\145")(($x91->price_type || (!$x91->price_type && $x91->special_price < $x91->price)) && $x91->special_price > 0 ) ? $x1d = $x92 : $x1d = $x93;else {($x91->getSpecial_price() && $x91->getSpecial_price() < $x91->getPrice()) ? $x1d = $x92 : $x1d = $x93;}}$this->skipOptions(2);break;case "\x7bs\160\x65\x63i\x61\154_\x70r\x69c\x65\x7d" :$x91 = $this->checkReference($x90['reference'], $x2c);$x0e=null;if ($x91->getSpecialFromDate() && !$x91->getSpecialToDate()) {if ($x91->getSpecialFromDate() <= $xb6("\x59\055m\055\144\040\x48:\151\072\163")) {if ($x91->type_id == 'bundle') {if ($x91->price_type)$x0e = $xc6($x91->price * $x91->special_price / 100, 2, "\056", "");else {$x0e = $x91->special_price;}} else {$x0e = $x91->getSpecial_price();}} } elseif ($x91->getSpecialFromDate() && $x91->getSpecialToDate()) {if ($x91->getSpecialFromDate() <= $xb6("\131-m\x2dd\040\110\072\151:s") && $xb6("Y\055\155\055\144 \x48\072\x69\x3a\x73") < $x91->getSpecialToDate()) {if ($x91->type_id == 'bundle') {if ($x91->price_type)$x0e = $xc6($x91->price * $x91->special_price / 100, 2, "\x2e", "");else {$x0e = $x91->special_price;}} else {$x0e = $x91->getSpecial_price();}} } else {if ($x91->type_id == 'bundle') {if ($x91->price_type)$x0e = $xc6($x91->price * $x91->special_price / 100, 2, "\x2e", "");else {$x0e = $x91->special_price;}} else {$x0e = $x91->getSpecial_price();}}(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];if ($x0e > 0) {$x1d = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90['options'][0])) ? $x0f = $x35 : $x0f = $x90['options'][0];$x1d = $this->applyCurrencyRate($x1d, $x0f);$x1d = $xc6($x1d, 2, '.', '');;} else {$x1d = "";}$this->skipOptions(2);break;case "\x7bG\072S\x41\x4c\x45\137\x50RI\103\x45\175" :$x91 = $this->checkReference($x90['reference'], $x2c);$x94 = $xd0(' ', 'T', $x91->getSpecialFromDate());$x95 = $xd0(' ', 'T', $x91->getSpecialToDate());if ($x91->type_id == 'bundle' && $x91->special_price) {if ($x91->price_type)$x0e = $xc6($x91->price * $x91->special_price / 100, 2, ".", "");else {$x0e = $x91->special_price;}} else {$x0e = $x91->getSpecial_price();}(!isset($x90['options'][1])) ? $x13 = false : $x13 = $x90['options'][1];if ($x0e > 0) {$x0e = $this->applyTax($x0e, $x38, $x91->getTaxClassId(), $x13);(!isset($x90['options'][0])) ? $x0f = $x35 : $x0f = $x90['options'][0];$x0e = $this->applyCurrencyRate($x0e, $x0f);$x0e = $xc6($x0e, 2, '.', '');;}if ($x0e > 0)$x1d = "\074g\072\x73\x61le_pr\x69c\x65>\074![C\104\101\x54A\133" . $x0e . "]\135\x3e</\x67\072sa\x6c\x65\137p\x72\x69\x63\145\076\n";if ($x0e > 0 && $x95)$x1d.="\x3c\147:s\141\154\145_pr\x69\x63\x65\x5f\x65f\x66\145\x63ti\166e\137d\x61\x74\x65>\x3c\x21[\x43\104\x41\x54\x41[" . $x94 . "Z\057" . $x95 . "\132\135\x5d\076\074\x2f\x67\x3a\x73a\x6c\145\137\x70ri\143\x65\x5fe\146\146\x65\143\x74iv\145\137da\x74\145>";$this->skipOptions(2);break;case "\173\151mag\x65}" :$x91 = $this->checkReference($x90['reference'], $x2c);$x96 = $x91->getImage();if (!isset($x90['options'][0]) || $x90['options'][0] == 0) {if ($x91->getImage() && $x91->getImage() != 'no_selection') {$x97 = 'catalog/product/' . $x91->getImage();$x1d = $x37 . $xd0('//', '/', $x97);} else {$x1d = $x37 . '/catalog/product/placeholder/' . $x34;}} elseif (isset($x74[$x91->getId()]['src'][$x90['options'][0] - 1]) && $x90['options'][0] > 0) {if ($x74[$x91->getId()]['src'][$x90['options'][0] - 1] != $x96) {$x97 = 'catalog/product/' . $x74[$x91->getId()]['src'][$x90['options'][0] - 1];$x1d = $x37 . $xd0('//', '/', $x97);}}$this->skipOptions(1);break;case "\x7b\x47\x3aI\115\x41G\105\x5fLI\x4e\x4b\175" :$x91 = $this->checkReference($x90['reference'], $x2c);$x96 = $x91->getImage();$x98 = array($x91->getSmall_image(), $x91->getThumbnail());$x99 = '';$x9a = 0;if ($x91->getImage() && $x91->getImage() != 'no_selection') {$x97 = 'catalog/product/' . $x91->getImage();$x1d = $x37 . $xd0('//', '/', $x97);$x99.="\x3c\147:i\x6dag\x65_\x6c\151\x6e\x6b\x3e\074\x21\x5bCD\x41\x54A\x5b" . $x1d . "\135]\076<\x2f\x67:\x69m\141\147\145\x5fl\x69n\153>\n";$x9a++;}$x9b = 0;while (isset($x74[$x91->getId()]['src'][$x9b]) && $x9a < 10) {if ($x74[$x91->getId()]['src'][$x9b] != $x96) {if ($xbd($x74[$x91->getId()]['src'][$x9b], $x98) || $x74[$x91->getId()]['disabled'][$x9b] != 1) {$x97 = 'catalog/product/' . $x74[$x91->getId()]['src'][$x9b];$x1d = $x37 . $xd0('//', '/', $x97);$x99.="<\147:a\x64\144\151ti\x6f\x6e\x61\x6c\137\151\155a\147\x65_\154\151\x6ek\x3e\x3c\041\x5b\103D\x41\x54A[" . $x1d . "\135\x5d></\147:\141d\144\151tion\x61\x6c\x5f\x69m\x61\x67\145\137\x6c\x69\156\153\x3e\n";$x9a++;}}$x9b++;}$x1d = $x99;break;case "{\165\162\x6c\175" :$x91 = $this->checkReference($x90['reference'], $x2c);if ($x91->getRequest_path())$x1d = $x36 . $x2f . $x91->getRequest_path();else {$x1d = $x91->getProductUrl();}break;case "{\x75r\x69\175" :$x91 = $this->checkReference($x90['reference'], $x2c);if ($x91->getRequest_path())$x1d = $x91->getRequest_path();else {$x1d = $xd0($x36, '', $x91->getProductUrl());}break;case '{is_in_stock}' :$x91 = $this->checkReference($x90['reference'], $x2c);(!isset($x90['options'][0])) ? $x92 = 1 : $x92 = $x90['options'][0];(!isset($x90['options'][1])) ? $x93 = 0 : $x93 = $x90['options'][1];($x91->getIs_in_stock() > 0) ? $x1d = $x92 : $x1d = $x93;$this->skipOptions(2);break;case '{stock_status}' :$x91 = $this->checkReference($x90['reference'], $x2c);($x91->getIs_in_stock() > 0) ? $x1d = Mage::helper('datafeedmanager')->__('in stock') : $x1d = Mage::helper('datafeedmanager')->__('out of stock');break;case '{qty}' :$x91 = $this->checkReference($x90['reference'], $x2c);(!isset($x90['options'][0])) ? $x9c = 0 : $x9c = $x90['options'][0];if ($x2c->type_id == "\143o\x6e\146i\147\x75\x72a\142\x6ce") {$x1d = $x81[$x2c->getId()];$x1d = $xc6($x1d, $x9c, '.', '');} else if ($x90['reference'] == "\143\x6f\x6e\146\151g\165\x72\141\x62le") {$x1d = $xc6($x81[$x91->getId()], $x9c, '.', '');} else {$x1d = $xc6($x91->getQty(), $x9c, '.', '');}$this->skipOptions(1);break;case "\173ca\x74\145\x67\x6f\162\151\x65\163\175" :$x91 = $this->checkReference($x90['reference'], $x2c);(!isset($x90['options'][0]) || !$x90['options'][0] || $x90['options'][0] == 'INF') ? $x9d = INF : $x9d = $x90['options'][0];(!isset($x90['options'][1])) ? $x9e = 1 : $x9e = $x90['options'][1];(!isset($x90['options'][2]) || !$x90['options'][2] || $x90['options'][2] == 'INF') ? $x9f = INF : $x9f = $x90['options'][2];$xa0 = 0;$x1d = '';$xa1 = '';foreach ($xb8(',', $x91->getCategoriesIds()) as $x1c => $x50) {if (isset($x2e[$x50]) && $xa0 < $x9d && ($xbd($x2e[$x50]["pa\x74h"], $x42) || $x42[0] == "*")) {$xa2 = 0;$xa3 = $xb8('/', $x2e[$x50]["\160\x61t\x68"]);if ($xbd($x39, $xa3)) {$xa4 = "";if ($xa0 > 0)$xa1 = "\054";foreach ($xa3 as $xa5) {if (isset($x2e[$xa5])) {if ($x2e[$xa5]['level'] > $x9e && $xa2 < $x9f) {if ($xa2 > 0)$xa4.=' > ';$xa4.=($x2e[$xa5]['name']);$xa2++;}}}$xa6 = "";if (!empty($xa4)) {$x1d.=$xa1 . $xa4 . $xa6;$xa0++;}}}};$this->skipOptions(3);break;case "{G\x3aP\122OD\125\x43\x54\137\124\131P\105}" :$x91 = $this->checkReference($x90['reference'], $x2c);(!isset($x90['options'][0]) || !$x90['options'][0] || $x90['options'][0] == 'INF') ? $x9d = INF : $x9d = $x90['options'][0];(!isset($x90['options'][1])) ? $x9e = 1 : $x9e = $x90['options'][1];(!isset($x90['options'][2]) || !$x90['options'][2] || $x90['options'][2] == 'INF') ? $x9f = INF : $x9f = $x90['options'][2];$xa0 = 0;$x1d = '';foreach ($xb8(',', $x91->getCategoriesIds()) as $x1c => $x50) {if (isset($x2e[$x50]) && $xa0 < $x9d && ($xbd($x2e[$x50]["\160\141\x74h"], $x42) || $x42[0] == "*")) {$xa2 = 0;$xa3 = $xb8('/', $x2e[$x50]["\160\141\x74\150"]);if ($xbd($x39, $xa3)) {$xa4 = '';$xa1 = '<g:product_type><![CDATA[';foreach ($xa3 as $xa5) {if (isset($x2e[$xa5])) {if ($x2e[$xa5]['level'] > $x9e && $xa2 < $x9f) {if ($xa2 > 0)$xa4.=' > ';$xa4.=($x2e[$xa5]['name']);$xa2++;}}}$xa6 = "]\135\x3e\074\x2f\147\072\x70\162\157\144\165\143\x74\x5f\164\171p\x65>\n";if (!empty($xa4)) {$x1d.=$xa1 . $xa4 . $xa6;$xa0++;}}}};$this->skipOptions(3);break;case "{\x47:GOO\107\x4c\105\x5f\120\x52O\x44U\103T\x5f\103\101\x54\x45\x47\x4f\x52Y\x7d" :(isset($x90["\x6fp\x74\151o\156s"][0])) ? $xa7 = $x90["\157\160\x74\x69\157n\163"][0] : $xa7 = 0;$x1d = "";$xa8 = 0;$x91 = $this->checkReference($x90['reference'], $x2c);foreach ($xb8(',', $x91->getCategoriesIds()) as $x1c => $x50) {if (isset($x2e[$x50]["\160\141\164\x68"]) && isset($x43[$x2e[$x50]["\x70\x61t\150"]])) {if ($xa8 == $xa7) {$x1d.="<g:\147\x6f\157\147l\145\137pr\x6fd\x75\143\x74\x5f\143\141\164\145g\x6fr\171\x3e\x3c\041\133C\x44\x41\124\101\133" . $x43[$x2e[$x50]["\x70ath"]] . "\135\135\076<\x2f\147\x3a\147\x6f\x6f\147\154\145\137\160\162\157\144\x75c\x74_\x63at\x65\x67o\162\x79\x3e\n";break;}$xa8++;}}$this->skipOptions(1);break;case "{\143\141\x74\x65\147\x6fr\171\x5f\155a\160p\x69n\147\175" :(isset($x90["\157p\164\151on\163"][0])) ? $xa7 = $x90["o\x70t\151o\156\x73"][0] : $xa7 = 0;$x1d = "";$x91 = $this->checkReference($x90['reference'], $x2c);$xa8 = 0;foreach ($xb8(',', $x91->getCategoriesIds()) as $x1c => $x50) {if (isset($x43[$x2e[$x50]["\x70a\164\x68"]])) {if ($xa8 == $xa7) {$x1d.=$x43[$x2e[$x50]["\160\141\164\150"]];break;}$xa8++;}}$this->skipOptions(1);break;case "\x7b\162\145\166\x69\x65w\x5f\143\157\x75n\164\175":$x91 = $this->checkReference($x90['reference'], $x2c);$x1d = "";(isset($x90["o\x70\x74io\x6e\163"][0]) && $x90["\157pt\151\x6f\x6es"][0] == "\x2a" ) ? $xa9 = 0 : $xa9 = $x31;if (isset($x6e[$x91->getId()][$xa9]["c\x6f\x75n\164"])) {$xaa = $x6e[$x91->getId()][$xa9]["c\x6f\165n\x74"];if (isset($xaa))$x1d.=$xaa;}$this->skipOptions(1);break;case "{r\x65\166ie\x77_\x61\166\145\x72\141\x67\145\175":$x91 = $this->checkReference($x90['reference'], $x2c);$x1d = "";(isset($x90["op\x74io\x6e\163"][0]) && $x90["\x6f\160t\x69o\156s"][0] == "\x2a" ) ? $xa9 = 0 : $xa9 = $x31;(!isset($x90["\x6f\x70t\151\157\x6es"][1]) || !$x90["o\160\x74\151\157\x6es"][1]) ? $xab = 5 : $xab = $x90["\157\160\x74i\157ns"][1];if (isset($x6e[$x91->getId()][$xa9]["s\x63or\x65"])) {$xac = $xc6($x6e[$x91->getId()][$xa9]["\163co\x72e"] * $xab / 100, 2, ".", "");if (isset($xac))$x1d.=$xac;}$this->skipOptions(2);break;case "{\x47\x3a\x50\x52\117\x44\x55\103T\137\122\x45V\x49\105\x57\175" :$x91 = $this->checkReference($x90['reference'], $x2c);(isset($x90["o\160tion\163"][0]) && $x90["\x6f\160\x74\151o\156s"][0] == "\x2a" ) ? $xa9 = 0 : $xa9 = $x31;(!isset($x90["\x6fp\x74\151o\x6e\x73"][1]) || !$x90["op\164io\156\163"][1]) ? $xab = 5 : $xab = $x90["o\160\164\151\x6f\x6e\x73"][1];$x1d = "";if (isset($x6e[$x91->getId()][$xa9]["\x63\x6fu\156\164"])) {$xaa = $x6e[$x91->getId()][$xa9]["\143\157u\x6e\164"];$xac = $xc6($x6e[$x91->getId()][$xa9]["s\x63\x6f\x72\145"] * $xab / 100, 2, "\x2e", "");}if (isset($xac) && $xac>0) {$x1d.="<\x67:\160r\157\144u\143\164\x5f\x72\145\x76i\x65w\137\x61v\x65rag\145\076\x3c![C\104\x41\x54\x41\x5b" . $xac . "]]>\074\x2f\x67\x3a\160\162\157\x64\x75\143\164\x5f\x72e\166\151e\167\x5f\x61\x76\145\162\x61\147\145\x3e\n";}if (isset($xaa) && $xaa > 0) {$x1d.="<g:\x70\162od\x75c\x74\x5f\162\145\166\151\x65w\137c\x6f\165\x6e\x74\076\x3c\041[\x43\x44\101TA[" . $xaa . "\135\x5d\x3e<\x2f\x67:\160\162\157d\165\143\x74_r\x65\x76\151e\167_\x63\x6f\165nt\x3e\n";} unset($xac); unset($xaa);break;case "\x7b\x47\072\111T\x45M\137GR\117\125P\x5fI\104}" :if (isset($this->configurable[$x2c->getId()])) {$x91 = $this->checkReference('configurable', $x2c);$x1d = "\074g\072\151\x74e\155\137g\162\x6fu\x70\x5f\151\x64\x3e\x3c\041[\x43\x44A\124\101\133" . $x91->getSku() . "\135\135\x3e<\057g\072\x69\x74\145\155\137\147\x72\x6f\165\160\137\151d\x3e";}break;default :$x91 = $this->checkReference($x90['reference'], $x2c);if ($xbd($x90['name'], $x59)) {if ($xbd($x5a[$x90['name']], array('select', 'multiselect'))) {eval('$xad =($x91->' . $x90['methodName'] . "\051;");$xae = $xb8(',', $xad);if ($xb5($xae) > 1) {$x1d = array();foreach ($xae as $xaf) {if (isset($x5f[$xaf][$x31]))$x1d[] = $x5f[$xaf][$x31];else {if (isset($x5f[$xaf][0]))$x1d[] = $x5f[$xaf][0];}}}else {if (isset($x5f[$xae[0]][$x31])) {$x1d = $x5f[$xae[0]][$x31];} else {if (isset($x5f[$xae[0]][0]))$x1d = $x5f[$xae[0]][0];}}} else {eval('$x1d =($x91->' . $x90['methodName'] . ")\073");}}if ($xbd(@$x57[$x90['name']], $x57)) {$x1d = $x57[$x90['name']];}$x1d = $x8f->_eval($x2c, $x90, $x1d);if ($xc0($x1d) && !$x1d)continue 3;break;}if ($xb5($x90['options']) > 0) {foreach ($x90['options'] as $x1c => $xb0) {if ($x1c >= $this->option) {switch ($x90['options'][$this->option]) {case "s\x75\142\x73tr" :if (isset($x90['options'][$this->option + 1]) && $xd1($x1d) > $x90['options'][$this->option + 1]) {$x1d = $xd4($x1d, 0, $x90['options'][$this->option + 1] - 3);$xb1 = $xd5($x1d, "\040");$x1d = $xd4($x1d, 0, $xb1) . $x90['options'][$this->option + 2];}$this->skipOptions(3);break;case "s\x74\x72\x69\x70\x5f\164\141\147\x73" :$xb2 = "\x20";$x1d = $xca('!\<br /\>!isU', $xb2, $x1d);$x1d = $xca('!\<br/\>!isU', $xb2, $x1d);$x1d = $xca('!\<br>!isU', $xb2, $x1d);$x1d = $xd3($x1d);$this->skipOptions(1);break;case "\150t\155\154\x65\156t\151\x74i\x65\x73" :$x1d = $xba(($x1d));$this->skipOptions(1);break;case "\x69m\x70\154ode" :$x1d = ($xc1($x1d)) ? $xbe($x90['options'][$this->option + 1], $x1d) : $x1d;$this->skipOptions(2);break;case "\146l\157\x61\x74" :$x1d = $xc6($x1d, $x90['options'][$this->option + 1], '.', '');$this->skipOptions(2);break;case "\150tm\154\x5f\x65n\164\x69t\x79\137d\x65c\x6f\x64\x65" :$x1d = $xbb($x1d, ENT_QUOTES, 'UTF-8');$this->skipOptions(1);break;case "i\156l\151\x6ee":$x1d = $xca('/(\r\n|\n|\r|\r\n)/s', '', $x1d);$this->skipOptions(1);break;case "\163\x74rt\157\154\x6fw\145\x72":$x1d = $xc4($x1d, "\x55\124\106\070");$this->skipOptions(1);break;case "\163\x74rt\x6f\x75pp\x65\x72":$x1d = $xc5($x1d, "\125\124\x46\070");$this->skipOptions(1);break;default :$x8e->option = $this->option;$x1d = $x8e->_eval($x2c, $x90, $x1d);$this->option = $x8e->option;if ($xc0($x1d) && !$x1d)continue 3;break;}}}}if ($x3d > 1)$x1d = $this->escapeStr($x1d);$x1d = $xd0(array("<", "\x3e"), array("\173(\133", "]\051\175"), $x1d);$x18 = $xd0($x90['fullpattern'], $x1d, $x18);}$x18 = $this->execPhpScript($x18, $x2c, $x3d);if ($x3d == 1 || ($x3d != 1 && !$this->_display))$x18 = $this->encode($x18);if ($x3d == 1)$x18 = $this->xmlEncloseData($x18, $x40);else {if (!$this->_display)$x18 = $this->jsonToStr($x18, $x26, $x27);else {$x18 = $this->jsonToTable(($x18), false);}}$x18 = $xd0(array("\173\050\x5b", "]\x29\x7d"), array("\x3c", "\076"), $x18);if ($x42[0] != '*') {$xa2 = 0;foreach ($xb8("\x2c", $x2c->getCategoriesIds()) as $x1c => $x50) {if (isset($x2e[$x50])) {if ($xbd($x2e[$x50]['path'], $x42))$xa2++;}};if ($xa2 < 1)$x18 = '';}if (!empty($x18)) { $x48.=$x18 . "\r\n";if ($this->_display) {$x49.=$x48;$x48 = '';} else {if ($x8d % 10 == 0) {$x0b->streamWrite($x48);unset($x48);$x48 = '';}}if ($this->_limit && $x8d > $this->_limit)break 2;$x8d++;}}}if (!$this->_display) {$x0b->streamWrite($x48);if($xd1($xd6($x3c))>1) $x0b->streamWrite($x3c . "\n");} else {$x49.=$x48;$x49.=$x3c . "\n";if ($x3d > 1)$x49.="\074\057t\141\x62\x6c\x65\x3e";}unset($x7c);if ($this->_display && !$this->_debug) {($x3d == 1) ? $xb3 = "<p\x72\145\040\x6ea\x6de\075'\x63o\x64\x65' c\x6ca\163\x73\x3d'\170\x6d\154'\x3e" . $xba($x49) . "\x3c\x2f\160r\145\x3e" : $xb3 = $x49;return("\x0d\012\x20\040\x20 		\x3c\x68\164\155\154\x3e\x0d\x0a\x20 \x20 \x09\x09<\150ea\x64\076\x0d\x0a\040\x20\040 \011\x09\x3c\x74\x69\164l\145\076" . $this->getFeedName() . "\074/\164\151\164\154\145>\x20\x20\040 \011	<\154\x69n\153 \164yp\x65='\164\x65\170t/c\163\x73' \x72\x65\x6c\x3d'\163\x74\x79\x6c\145sh\145\145\x74'\x20hr\145\146='" . $x36 . "\x73\x6b\151n\057a\144\155i\156h\164\x6dl\x2fde\x66\x61\x75\x6ct\057d\145\x66a\x75\154t/da\x74\x61\146eed\155ana\147\145\x72/\x53yn\164\141x\110ig\150\x6ci\x67\x68\164\145r\x2f\x63s\x73\057\123yn\164\141x\110\x69\147\150\x6c\x69gh\x74er.\x63\x73\x73'>\074/\154\151\156\153\x3e\x0d\011	\011\074\x73\x63r\x69\x70t la\x6e\x67\165ag\145\x3d'j\141va\163\143\x72ip\164'\x20\x73\162c='" . $x36 . "\163\153\x69\156\057ad\155in\150t\x6d\x6c/\144\x65\146\x61\x75l\164\057\144e\x66\x61\165lt/\144\141\x74a\x66\x65e\144\155\x61\x6e\141\x67\145r/\123yn\x74\141\x78H\151g\150l\151\147\150te\162\x2f\x6a\x73\057\x73\x68Cor\145.\x6a\x73'\076<\057\163\x63r\x69\160t>\x0d\012	\x09\x09\074\x73c\162\151\160\x74 \x6c\141\x6e\x67u\141\x67e\075'\x6a\x61\166\x61sc\162i\x70t' \x73r\143='" . $x36 . "\x73\x6b\151n/\x61dmin\150\x74\155l\057d\145f\141u\154t\x2f\144\x65\146\141\165\x6c\x74/\144\x61ta\146eed\155\141\156ag\x65\x72/\123\x79n\164\x61\170H\x69ghl\151g\x68t\145\x72\057\x6as/\163\x68Br\165\163\x68Xm\154\056\x6as'\x3e\074\057\x73\x63\162\x69p\x74\x3e\015\x20\040\x20\x20	\x09\015\011\011\011<\x2f\150\145\x61\144>\012	\011	\074\142\x6f\x64\x79>\012		\x09" . $xb3 . "\012	\x09	\074scri\160\x74\x20\x6c\141n\147u\x61ge\075'\152a\166\141\163\x63\162\151p\x74'>\x0a\x09\011\x09\x0d\x09\x09\x09d\160.\123y\x6et\141\170\x48\151\147\150\x6ci\147\x68\164\x65\162\x2eHi\x67\x68\x6c\x69\147htAll('c\157d\x65',f\141l\x73e,\x66\141l\163e\054\146\x61l\x73\145\054f\x61\154\x73e\051\073\x0d\012\011\x09\x09\074\x2f\x73\x63r\151\x70\x74\076\011\x09	\074\x2f\x62\x6fdy>\x09\011\x09\074\057\x68\x74\x6d\154\x3e");} elseif ($this->_debug) {echo "\074\x62\x72\076\x3c\x62r\x3e\055\x2d-\x2d\x2d--\x2d\055\x2d\055- X\115L\040\117\x55\x54\120U\124 -\055\x2d--\x2d\055--\055\055\055-\055\x2d\x2d\x3cb\x72\x3e";$xb3 = "<pr\x65>" . $xbc($x49) . "\074\057\x70\162\145\x3e";return $xb3;} else {$x0b->streamClose();$this->setFeedUpdatedAt(Mage::getSingleton('core/date')->gmtDate('Y-m-d H:i:s'));$this->save();}return $this;}}include(Mage::getBaseDir()."/app/code/local/Wyomind/Datafeedmanager/myCustomAttributes.php");include(Mage::getBaseDir()."/app/code/local/Wyomind/Datafeedmanager/myCustomOptions.php");